<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PG-GO</title>
    <link rel="stylesheet" href="style.css">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const pgList = document.querySelector('.pd1 ul');
            const addButton = document.getElementById('addButton');
            const updateButton = document.getElementById('updateButton');
            const deleteButton = document.getElementById('deleteButton');
            const addForm = document.getElementById('addForm');
            const updateForm = document.getElementById('updateForm');
            const deleteForm = document.getElementById('deleteForm');

            addButton.addEventListener('click', function() {
                addForm.style.display = 'block';
                updateForm.style.display = 'none';
                deleteForm.style.display = 'none';
            });

            updateButton.addEventListener('click', function() {
                addForm.style.display = 'none';
                updateForm.style.display = 'block';
                deleteForm.style.display = 'none';
            });

            deleteButton.addEventListener('click', function() {
                addForm.style.display = 'none';
                updateForm.style.display = 'none';
                deleteForm.style.display = 'block';
            });

            document.getElementById('addPg').addEventListener('click', function() {
                const title = document.getElementById('addTitle').value;
                const location = document.getElementById('addLocation').value;
                const rating = document.getElementById('addRating').value;
                const rooms = document.getElementById('addRooms').value;
                const imagePath = document.getElementById('addImagePath').value;
                const newListItem = `
                    <li>
                        <img src="${imagePath}" alt="${title}" width="100" height="100">
                        <div class="details">
                            <span class="titles">${title}</span>
                            <span class="location">Location: ${location}</span>
                            <span class="rating">Rating: ${rating}</span>
                            <span class="rooms">Rooms available: ${rooms}</span>
                        </div>
                    </li>
                `;
                pgList.insertAdjacentHTML('beforeend', newListItem);
            });

            document.getElementById('updatePg').addEventListener('click', function() {
                const index = document.getElementById('updateIndex').value;
                const title = document.getElementById('updateTitle').value;
                const location = document.getElementById('updateLocation').value;
                const rating = document.getElementById('updateRating').value;
                const rooms = document.getElementById('updateRooms').value;
                const imagePath = document.getElementById('updateImagePath').value;
                const listItem = pgList.children[index];
                listItem.querySelector('img').src = imagePath;
                listItem.querySelector('img').alt = title;
                listItem.querySelector('.titles').textContent = title;
                listItem.querySelector('.location').textContent = 'Location: ' + location;
                listItem.querySelector('.rating').textContent = 'Rating: ' + rating;
                listItem.querySelector('.rooms').textContent = 'Rooms: ' + rooms;
            });

            document.getElementById('deletePg').addEventListener('click', function() {
                const index = document.getElementById('deleteIndex').value;
                pgList.children[index].remove();
            });

            document.getElementById('search-bar').addEventListener('submit', function(event) {
                event.preventDefault();
                const query = document.getElementById('search-query').value.toLowerCase();
                const pgItems = pgList.querySelectorAll('li');
                pgItems.forEach(function(item) {
                    const title = item.querySelector('.titles').textContent.toLowerCase();
                    const location = item.querySelector('.location').textContent.toLowerCase();
                    if (title.includes(query) || location.includes(query)) {
                        item.style.display = '';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });
    </script>
</head>
<body class="bgb">
    <div class="logo">
        <img src="image/logo2.png" alt="Logo">
    </div>
    <div class="main">
        <ul>
            <li class="active"><a href="#">HOME</a></li>
            <li><a href="usersh.php">My Users</a></li>
            <li><a href="contacts.php">Contacts</a></li>
            <li class="dropdown">
                <a href="#" class="dropbtn">More</a>
                <div class="dropdown-content">
                    <a href="loggout.php">Logout</a>
                </div>
            </li>
        </ul>
    </div>
    <!-- pg lists of img and detail -->
    <form class="search-bar" id="search-bar">
        <input type="text" placeholder="Search..." name="query" id="search-query">
        <button type="submit">Search</button>
    </form>

    <!-- Admin Controls -->
    <div class="admin-controls">
        <button id="addButton">Add</button>
        <button id="updateButton">Update</button>
        <button id="deleteButton">Delete</button>

        <div id="addForm" class="form" style="display:none;">
            <h3>Add PG</h3>
            <label for="addTitle">Title:</label>
            <input type="text" id="addTitle" required>
            <label for="addLocation">Location:</label>
            <input type="text" id="addLocation" required>
            <label for="addRating">Rating:</label>
            <input type="text" id="addRating" required>
            <label for="addRooms">Rooms available:</label>
            <input type="text" id="addRooms" required>
            <label for="addImagePath">Image Path:</label>
            <input type="text" id="addImagePath" required>
            <button id="addPg">Add PG</button>
        </div>

        <div id="updateForm" class="form" style="display:none;">
            <h3>Update PG</h3>
            <label for="updateIndex">Index:</label>
            <input type="number" id="updateIndex" required>
            <label for="updateTitle">Title:</label>
            <input type="text" id="updateTitle" required>
            <label for="updateLocation">Location:</label>
            <input type="text" id="updateLocation" required>
            <label for="updateRating">Rating:</label>
            <input type="text" id="updateRating" required>
            <label for="updateRooms">Rooms available:</label>
            <input type="text" id="updateRooms" required>
            <label for="updateImagePath">Image Path:</label>
            <input type="text" id="updateImagePath" required>
            <button id="updatePg">Update PG</button>
        </div>

        <div id="deleteForm" class="form" style="display:none;">
            <h3>Delete PG</h3>
            <label for="deleteIndex">Index:</label>
            <input type="number" id="deleteIndex" required>
            <button id="deletePg">Delete PG</button>
        </div>
    </div>
    <!-- pg item -->
    <div class="pd1" id="pg-list1">
            <ul>
                <li><a href="product1.html">
                    <img src="image/pg1.jpg" alt="Product 1" width="100" height="100"></a>
                    <div class="details">
                        <span class="titles">Akash PG</span>
                        <span class="location">Location: Whitefeild, Bengaluru</span>
                        <span class="rating">Rating: 4.5/5</span>
                        <span class="rooms">Rooms available: 6</span>
                    </div>
                </li>
                <li><a href="product2.html">
                    <img src="image/pg2.jpg" alt="Product 2" width="100" height="100"></a>
                    <div class="details">
                        <span class="titles">Ronho PG</span>
                        <span class="location">Location: Hebbala, Bengaluru</span>
                        <span class="rating">Rating: 4.7/5</span>
                        <span class="rooms">Rooms available: 4</span>
                    </div>
                </li>
                <li>
                    <img src="image/pg3.jpg" alt="Product 3" width="100" height="100">
                    <div class="details">
                        <span class="titles">Doxtor PG</span>
                        <span class="location">Location: B Narayanapura, Bengaluru</span>
                        <span class="rating">Rating: 4.3/5</span>
                        <span class="rooms">Rooms available: 3</span>
                    </div>
                </li>
                <li>
                    <img src="image/pg4.jpeg" alt="Product 3" width="100" height="100">
                    <div class="details">
                        <span class="titles">Vengamaba PG</span>
                        <span class="location">Location: Marathahalli, Bengaluru</span>
                        <span class="rating">Rating: 4.3/5</span>
                        <span class="rooms">Rooms available: 7</span>
                    </div>
                </li>
                <li>
                    <img src="image/pg5.jpeg" alt="Product 3" width="100" height="100">
                    <div class="details">
                        <span class="titles">Prince PG</span>
                        <span class="location">Location: Shivaji Nagar, Bengaluru</span>
                        <span class="rating">Rating: 4.3/5</span>
                        <span class="rooms">Rooms available: 10</span>
                    </div>
                </li>
                <li>
                    <img src="image/pg2.jpg" alt="Product 3" width="100" height="100">
                    <div class="details">
                        <span class="titles">Shiva PG</span>
                        <span class="location">Location: Varthuru, Bengaluru</span>
                        <span class="rating">Rating: 4.3/5</span>
                        <span class="rooms">Rooms available: 6</span>
                    </div>
                </li>
            </ul>
        </div>
</body>
</html>
